(function(i){function Cb(Z,U){function $(){l=p.find(".slides");if(a.settings.shuffle){var b=l.children();l.find(".slide").each(function(e){i(this).attr("data-index",e)});b=b.sort(function(){return 0.5-Math.random()});l.empty().append(b)}l.children().each(function(e,c){var g={},h=a.settings.shuffle?parseInt(i(c).data("index")):e;g.properties={};z.push(i(this));if(i(this).data("image")){g.lazyImage=i(this).data("image");g.lazyImageLoaded=false}for(var d=0;d<i(this).children().length;d++){var f=i(this).children()[d];if(i(f).hasClass("thumbnail")||i(f).is("a")&&i(f).children("img.thumbnail").length)g.thumbnail=i(f).clone();else g[i(f).attr("class")]=i(f)}if(!g.caption&&i(this).find(".caption").length)g.caption=i(this).find(".caption");if(!g.html&&i(this).find(".html").length)g.html=i(this).find(".html");if(a.settings.xmlSource){g.properties=y[h].properties;y[e]=g}else{for(d=0;d<Ca.length;d++){f=Ca[d];var j;if(a.settings.slideProperties)if(a.settings.slideProperties[h])j=a.settings.slideProperties[h][f];g.properties[f]||(g.properties[f]=j==undefined?a.settings[f]:j)}y.push(g)}});if(w){l.find("img.thumbnail").parent("a").css("display","none");l.find("img.thumbnail").css("display","none");window.onload=function(){l.find("img.thumbnail").parent("a").remove();l.find("img.thumbnail").remove()}}else{l.find("img.thumbnail").parent("a").remove();l.find("img.thumbnail").remove()}G=y.length;Db()}function Db(){p.addClass(a.settings.skin).css({width:a.settings.width,height:a.settings.height}).focus(function(){wa=true;p.addClass("focus")}).blur(function(){wa=false;p.hasClass("focus")&&p.removeClass("focus")});J=i('<div class="slider-main"></div>').appendTo(p);if(i.browser.mozilla)p.addClass("mozilla");else if(i.browser.webkit||i.browser.chrome||i.browser.safari)p.addClass("webkit");else if(i.browser.opera)p.addClass("opera");else if(i.browser.msie)if(parseInt(i.browser.version)==6)p.addClass("ie6");else if(parseInt(i.browser.version)==7)p.addClass("ie7");else if(parseInt(i.browser.version)==8)p.addClass("ie8");else parseInt(i.browser.version)==9&&p.addClass("ie9");t=i('<div class="slide-wrapper"></div>').append(l).appendTo(J).hover(function(){V=true;if(a.settings.timerAnimation&&a.settings.timerToggle&&N!="stopped"&&!L){var c=p.find(".timer-animation");w?c.css("filter",""):c.stop().animate({opacity:1},a.settings.timerFadeDuration)}if(xa&&a.settings.lightboxIconToggle){c=t.find(".lightbox-icon");w?c.css("filter",""):c.stop().animate({opacity:1},a.settings.lightboxIconFadeDuration)}a.settings.pauseSlideshowOnHover&&!K&&ha();ia&&a.settings.captionToggle&&gb();if(a.settings.slideArrows&&a.settings.slideArrowsToggle)w?p.find(".slide-arrows a").stop().show():p.find(".slide-arrows a").stop().animate({opacity:1},a.settings.slideArrowsShowDuration);if(a.settings.slideshowControls&&a.settings.slideshowControlsToggle)w?p.find(".slideshow-controls").stop().show():p.find(".slideshow-controls").stop().animate({opacity:1},a.settings.slideshowControlsShowDuration);a.settings.autoToggle&&hb()},function(){V=false;a.settings.autoToggle&&ib();if(a.settings.timerAnimation&&a.settings.timerToggle&&N!="stopped"&&!L){var c=p.find(".timer-animation");w?c.css("opacity",1):c.stop().animate({opacity:1},a.settings.timerFadeDuration)}if(xa&&a.settings.lightboxIconToggle){c=t.find(".lightbox-icon");w?c.css("opacity",0):c.stop().animate({opacity:0},a.settings.lightboxIconFadeDuration)}a.settings.pauseSlideshowOnHover&&!qa&&!Va&&!K&&ra();ia&&a.settings.captionToggle&&Wa();if(a.settings.slideArrows&&a.settings.slideArrowsToggle)w?p.find(".slide-arrows a").stop().hide():p.find(".slide-arrows a").stop().animate({opacity:0},a.settings.slideArrowsHideDuration);if(a.settings.slideshowControls&&a.settings.slideshowControlsToggle)w?p.find(".slideshow-controls").stop().hide():p.find(".slideshow-controls").stop().animate({opacity:0},a.settings.slideshowControlsHideDuration)});a.settings.effectType=="swipe"&&i('<div class="swipeable-container"></div>').appendTo(t).append(l);l.find(".slide").each(function(c){var g=i(this),h=g.find("img.image");g=g.find(".caption");var d=y[c],f=d.properties;if(h.length){h.data("index",c);d.imagePath=h.attr("src")}if(g.length){c=parseFloat(f.captionBackgroundOpacity);h=f.captionBackgroundColor;f=i('<div class="caption-container"></div>').appendTo(g.parent());f=i('<div class="wrapper"></div>').appendTo(f);i('<div class="background"></div>').css({opacity:c,"background-color":h}).appendTo(f);g.appendTo(f)}});l.find(".html video.video").each(function(){var c=i(this),g=c.parent();if(jb&&c.is("video")){var h=c[0].outerHTML;c.remove();g.html(h);c=g.find("video");c[0].load()}c.hasClass("video-js")&&VideoJS(c.attr("id"),c.data("video"))});l.find(".html .jw-player").length&&l.find(".html .jw-player").each(function(){jwPlayerArgs={};jwPlayerModes=[];flashModeSources=[];html5ModeSources=[];sources=[];video.find(".source").each(function(){var g=i(this);if(g.hasClass("flash"))flashModeSources.push(i(this).data());else g.hasClass("html5")?html5ModeSources.push(i(this).data()):sources.push(i(this).data())});if(flashModeSources.length){var c={type:"flash"};c.config={};c.src=a.settings.jwPlayerPath+"/player.swf";if(flashModeSources.length==1)c.config.file=flashModeSources[0].file;else c.config.levels=flashModeSources;if(video.data("provider"))c.config.provider=video.data("provider");if(video.data("streamer"))c.config.streamer=video.data("streamer");jwPlayerModes.push(c)}if(html5ModeSources.length){c={type:"html5"};c.config={};if(html5ModeSources.length==1)c.config.file=html5ModeSources[0].file;else c.config.levels=html5ModeSources;jwPlayerModes.push(c)}if(sources.length){jwPlayerArgs.flashplayer=a.settings.jwPlayerPath+"/player.swf";if(sources.length==1)jwPlayerArgs.file=sources[0].file;else jwPlayerArgs.levels=sources;if(video.data("provider"))jwPlayerArgs.provider=video.data("provider");if(video.data("streamer"))jwPlayerArgs.streamer=video.data("streamer")}if(video.data("width"))jwPlayerArgs.width=video.data("width");if(video.data("height"))jwPlayerArgs.height=video.data("height");if(video.data("image"))jwPlayerArgs.image=video.data("image");if(video.data("skin"))jwPlayerArgs.skin=video.data("skin");if(jwPlayerModes.length)jwPlayerArgs.modes=jwPlayerModes;jwplayer(video.attr("id")).setup(jwPlayerArgs)});l.find(".html video.sublime-video").length&&window.sublimevideo&&sublimevideo.ready(function(){l.find(".html video.sublime-video").each(function(){sublimevideo.prepare(i(this).attr("id"))})});sa=a.settings.slideStart;var b=window.location.hash;if(b){b=b.substring(1);var e=b.split("-");e=parseInt(e.pop());b=b.replace("-"+e,"");if(p.attr("id")==b&&e>=0&&e<=G-1)sa=e}a.settings.slideArrows&&Eb();a.settings.slideButtons&&Fb();a.settings.shadow&&Gb();if(a.settings.thumbnailType=="scroller"||a.settings.thumbnailType=="tooltipAndScroller")Hb();a.settings.slideshowControls&&Ib();a.settings.keyboardNavigation&&Jb();if(a.settings.fullscreenControls&&!(jb||i.browser.msie))Kb();a.settings.lightbox&&p.find("a[rel^='slider-lightbox']").prettyPhoto({social_tools:"",deeplinking:false,overlay_gallery:false,theme:a.settings.lightboxTheme,opacity:a.settings.lightboxOpacity,openLightbox:function(){if(!qa){qa=true;p.blur();K||ha()}},callback:function(){if(qa){qa=false;p.focus();K||ra()}}});if((a.settings.thumbnailType=="scroller"||a.settings.thumbnailType=="tooltipAndScroller")&&(a.settings.thumbnailMouseScroll||a.settings.thumbnailTooltip||a.settings.thumbnailScrollbar)||a.settings.autoToggle)i(document).bind("mousemove",function(c){aa=c.pageX;ba=c.pageY;Xa=aa+ba});ja="none";Da();ta(sa);i(window).resize(Da)}function Da(){var b=0,e=0;a.settings.aspectRatio!=-1&&p.css("height",p.width()/a.settings.aspectRatio);if(a.settings.thumbnailType=="scroller"||a.settings.thumbnailType=="tooltipAndScroller")if(a.settings.fullscreenThumbnailScrollerOverlay&&ka=="on")if(a.settings.thumbnailOrientation=="horizontal")J.css("height",p.height());else a.settings.thumbnailOrientation=="vertical"&&J.css("width",p.width());else if(!a.settings.thumbnailScrollerOverlay)if(a.settings.thumbnailOrientation=="horizontal")J.css("height",p.height()-v.outerHeight(true));else a.settings.thumbnailOrientation=="vertical"&&J.css("width",p.width()-v.outerWidth(true));if(a.settings.shadow){var c=J.find(".shadow");if(ka=="on"&&!a.settings.fullscreenShadow||J.width()<400)c.css("display","none");else{c.css("display","block");var g=c.find(".shadow-middle"),h=c.find(".shadow-left").width()+c.find(".shadow-right").width(),d=parseInt(c.css("height"))+parseInt(c.css("margin-top"));c.css("width",J.width());g.css("width",c.width()-h);b=d>b?d:b}}if(a.settings.slideButtons){c=J.find(".slide-buttons");if(!c.data("width")){c.data("width",parseInt(c.css("width")));c.data("height",parseInt(c.css("height")))}d=c.find("buttons-middle");g=d.find("buttons-inner");c.css("width",parseInt(c.data("width")));c.css("height",parseInt(c.data("height")));h=parseInt(c.css("height"))+parseInt(c.css("margin-top"));c.css("left",0);if(a.settings.slideButtonsCenter){d=(d.width()-g.width())/2;g.css("left",d)}if(a.settings.slideButtonsContainerCenter){d=(J.width()-c.width())/2;c.css("left",d)}if(ka=="on"&&!a.settings.fullscreenSlideButtons)c.css("display","none");else{c.css("display","block");b=h>b?h:b}}kb=b;b+=parseInt(t.css("border-top-width"))+parseInt(t.css("border-bottom-width"));e+=parseInt(t.css("border-left-width"))+parseInt(t.css("border-right-width"));t.css({height:J.height()-b,width:J.width()-e});lb=t.width();mb=t.height();l.find(".slide").each(function(f){var j=i(this),s=j.find("img.image"),o=y[f].properties.alignType;if(s.length)if(s[0].complete||s[0].readyState=="complete")da(s,o);else{s.css("visibility","hidden");s.load(function(){s.css("visibility","");da(s,o)})}if(a.settings.effectType=="swipe"){var r=n!=-1?n:sa;if(a.settings.swipeOrientation=="horizontal"){l.css("left",-r*(l.width()+a.settings.swipeSlideDistance));j.css("left",f*(l.width()+a.settings.swipeSlideDistance))}else if(a.settings.swipeOrientation=="vertical"){l.css("top",-r*(l.height()+a.settings.swipeSlideDistance));j.css("top",f*(l.height()+a.settings.swipeSlideDistance))}}});if((a.settings.thumbnailType=="tooltipAndScroller"||a.settings.thumbnailType=="scroller")&&a.settings.scaleType!="proportionalFit"){Ya();ya();a.settings.thumbnailMouseScroll&&za()}b={type:"doSliderLayout"};i.isFunction(a.settings.doSliderLayout)&&a.settings.doSliderLayout.call(this,b)}function da(b,e){if(!b.data("init")){b.data("init",true);b.data("width",b.width());b.data("height",b.height());b.data("state","loaded");a.settings.allowScaleUp||b.css({maxWidth:b.data("width"),maxHeight:b.data("height")})}switch(a.settings.scaleType){case"exactFit":b.css({width:"100%",height:"100%"});break;case"insideFit":b.width()/b.height()>=t.width()/t.height()?b.css({width:"100%",height:"auto"}):b.css({width:"auto",height:"100%"});break;case"outsideFit":b.width()/b.height()<=t.width()/t.height()?b.css({width:"100%",height:"auto"}):b.css({width:"auto",height:"100%"});break;case"proportionalFit":if(b.data("index")==n&&(b[0].complete||b[0].readyState=="complete")){t.css("width",lb);t.css("height",mb);b.css({width:"100%",height:"auto"});t.css("height",b.height());J.css("height",t.outerHeight(true)+kb);if(a.settings.thumbnailType=="scroller"||a.settings.thumbnailType=="tooltipAndScroller"){a.settings.thumbnailOrientation=="horizontal"&&!a.settings.thumbnailScrollerOverlay?p.css("height",J.height()+v.outerHeight(true)):p.css("height",J.height());Ya();ya();a.settings.thumbnailMouseScroll&&za()}else p.css("height",J.height());if(C!=-1){var c=z[C].find("img.image"),g=y[C].properties.alignType;c.length&&nb(c,g)}}}nb(b,e)}function nb(b,e){var c=b.width(),g=b.height();switch(e){case"leftTop":b.css({left:0,top:0});break;case"leftCenter":b.css({left:0,top:"50%","margin-top":-g*0.5});break;case"leftBottom":b.css({left:0,bottom:0});break;case"centerTop":b.css({left:"50%",top:0,"margin-left":-c*0.5});break;case"centerCenter":b.css({left:"50%",top:"50%","margin-left":-c*0.5,"margin-top":-g*0.5});break;case"centerBottom":b.css({left:"50%",bottom:0,"margin-left":-c*0.5});break;case"rightTop":b.css({right:0,top:0});break;case"rightCenter":b.css({right:0,top:"50%","margin-top":-g*0.5});break;case"rightBottom":b.css({right:0,bottom:0});break;case"default":b.css({left:"50%",top:"50%","margin-left":-c*0.5,"margin-top":-g*0.5})}}function Eb(){var b=i('<div class="slide-arrows"></div>').appendTo(t),e=i('<a class="previous"></a>').appendTo(b).click(function(){ja="previousButton";la()});b=i('<a class="next"></a>').appendTo(b).click(function(){ja="nextButton";ea()});if(a.settings.slideArrowsToggle)if(w){e.hide();b.hide()}else{e.css("opacity",0);b.css("opacity",0)}}function Ib(){var b=i('<div class="slideshow-controls"></div>').appendTo(t),e=a.settings.slideshow?"pause":"play";N=a.settings.slideshow?"playing":"stopped";b.addClass(e).click(function(){if(N=="playing"||N=="paused")Ea();else N=="stopped"&&ob()});if(a.settings.slideshowControlsToggle)w?b.hide():b.css("opacity",1)}function Fb(){var b=G,e=i('<div class="slide-buttons"></div>').appendTo(J);i('<div class="left"></div>').appendTo(e);var c=i('<div class="middle"></div>').appendTo(e);i('<div class="right"></div>').appendTo(e);c=i('<div class="buttons-inner"></div>').appendTo(c);for(var g=0;g<b;g++){var h=i('<a rel="'+g+'"></a>').appendTo(c);a.settings.slideButtonsNumber&&i('<div class="number">'+(g+1)+"</div>").appendTo(h);h.hover(function(){var d=parseInt(i(this).attr("rel"));i(this).hasClass("select")||i(this).addClass("over");if(y[d].properties.thumbnailType=="tooltip"||y[d].properties.thumbnailType=="tooltipAndScroller")Lb(d)},function(){var d=parseInt(i(this).attr("rel"));i(this).hasClass("select")||i(this).removeClass("over");if(y[d].properties.thumbnailType=="tooltip"||y[d].properties.thumbnailType=="tooltipAndScroller")Mb()});h.click(function(){ja="button";ta(parseInt(i(this).attr("rel")))})}if(a.settings.slideButtonsToggle){w?e.hide():e.css("opacity",1);p.hover(function(){w?e.show():e.stop().animate({opacity:1},a.settings.slideButtonsShowDuration)},function(){w?e.hide():e.stop().animate({opacity:1},a.settings.slideButtonsHideDuration)})}}function Jb(){i(document).keydown(function(b){if(b.which==37&&(a.settings.keyboardNavigationOnFocusOnly&&wa||!a.settings.keyboardNavigationOnFocusOnly))la();else if(b.which==39&&(a.settings.keyboardNavigationOnFocusOnly&&wa||!a.settings.keyboardNavigationOnFocusOnly))ea();else b.which==13&&wa&&z[n].children("a").length&&z[n].children("a").not(".thumbnail")[0].click()})}function Kb(){var b=i('<div class="full-screen-controls"></div>').appendTo(t);b.click(function(){if(ka=="off")if(Z.requestFullScreen)Z.requestFullScreen();else if(Z.mozRequestFullScreen)Z.mozRequestFullScreen();else Z.webkitRequestFullScreen&&Z.webkitRequestFullScreen();else if(ka=="on")if(document.cancelFullScreen)document.cancelFullScreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else document.webkitCancelFullScreen&&document.webkitCancelFullScreen()});document.addEventListener("fullscreenchange",Za);document.addEventListener("mozfullscreenchange",Za);document.addEventListener("webkitfullscreenchange",Za);if(a.settings.fullscreenControlsToggle&&!V)b.css("opacity",1);else w||b.css({opacity:1}).stop().animate({opacity:1},a.settings.fullscreenIconHideDuration);a.settings.fullscreenControlsToggle&&t.hover(function(){w?b.css("filter",""):b.stop().animate({opacity:1},a.settings.fullscreenIconShowDuration)},function(){w?b.css("opacity",1):b.stop().animate({opacity:1},a.settings.fullscreenIconHideDuration)})}function Za(){ka=document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen?"on":"off";if(ka=="on"){p.css({width:"100%",height:"100%"}).addClass("fullscreen");v&&a.settings.fullscreenThumbnailScrollerOverlay&&v.addClass("overlay")}else{p.css({width:a.settings.width,height:a.settings.height}).removeClass("fullscreen");v&&a.settings.fullscreenThumbnailScrollerOverlay&&v.removeClass("overlay")}Da()}function Gb(){var b=i('<div class="shadow"></div>').appendTo(J);i('<div class="shadow-left"></div>').appendTo(b);i('<div class="shadow-middle"></div>').appendTo(b);i('<div class="shadow-right"></div>').appendTo(b)}function Lb(b){if(y[b].thumbnail){var e=y[b].thumbnail.is("a")?y[b].thumbnail.find("img"):y[b].thumbnail,c=e.attr("src"),g=e.attr("alt");e=i('<div class="thumbnail-wrapper"></div>').appendTo(p.find(".buttons-inner"));var h=i('<div class="thumbnail"></div>').css({width:a.settings.thumbnailWidth,height:a.settings.thumbnailHeight}).appendTo(e);e.css({width:h.outerWidth(),height:h.outerHeight()});if(g){var d=i('<div class="caption"></div>').appendTo(h),f=i('<div class="background"></div>').appendTo(d);g=i('<div class="content">'+g+"</div>").appendTo(d);f=f.css("opacity");d.css("height",g.outerHeight(true));a.settings.thumbnailCaptionPosition=="top"?d.css("top",0):d.css("bottom",0)}d=p.find(".buttons-inner a").eq(b);b=d.position().left-(e.outerWidth(true)-d.width())/2;d=d.position().top-e.outerHeight(true);w&&e.find("*").not(".background").css("filter","inherit");e.css({left:b,top:d-a.settings.thumbnailSlideAmount,opacity:0});i("<img/>").load(function(){h.css("background-image","url("+c+")")}).attr("src",c);if(w){e.animate({top:d,opacity:1},a.settings.thumbnailSlideDuration,a.settings.thumbnailSlideEasing);e.find(".caption .background").animate({opacity:f},a.settings.thumbnailSlideDuration)}else e.animate({top:d,opacity:1},a.settings.thumbnailSlideDuration,a.settings.thumbnailSlideEasing)}}function Mb(){var b=p.find(".buttons-inner .thumbnail-wrapper");if(b.length){var e=b.find(".background");w&&e.animate({opacity:0},a.settings.thumbnailSlideDuration);b.animate({top:b.position().top-a.settings.thumbnailSlideAmount,opacity:0},a.settings.thumbnailSlideDuration,a.settings.thumbnailSlideEasing,function(){b.remove()})}}function ta(b){if(b!=n){if(L)if(a.settings.overrideTransition)switch(pb){case"slide":z[n].stop(false,true);break;case"fade":z[n].stop(false,true);C!=-1&&z[C].stop(false,true);break;case"slice":ma.find(".slice").each(function(){clearTimeout(i(this).data("delay"));i(this).stop().remove()});ma.remove();C!=-1&&z[C].css({visibility:""});z[n].css("visibility","visible");M()}else if(a.settings.effectType!="swipe")return;a.settings.slideshow&&Fa();if(xa){xa=false;var e=t.find(".lightbox-icon");w?e.remove():e.stop().animate({opacity:0},a.settings.lightboxIconFadeDuration,function(){e.remove()})}if(na){na.leaveVideo();Va=false}L=true;C=n;n=b;if(C!=-1){z[C].removeClass("active");z[C].addClass("transition")}z[n].addClass("active");a.settings.effectType=="swipe"?l.find(".slide").addClass("transition"):z[n].addClass("transition");if(n!=fa)if(ia&&a.settings.effectType!="swipe"){ia=false;Wa();Aa&&clearTimeout(Aa)}var c=y[b],g=z[b].find("img.image");if(c.lazyImage&&!c.lazyImageLoaded){var h=i('<img class="image"/>').attr("src",y[b].lazyImage);g.attr("alt")&&h.attr("alt",g.attr("alt"));g.attr("title")&&h.attr("title",g.attr("title"));h.data("index",b);if(g.length){h.prependTo(g.parent());g.remove()}else h.prependTo(z[b]);g=h;c.imagePath=g.attr("src");c.lazyImageLoaded=true}if(g.length&&(g.data("state")!="loaded"||a.settings.scaleType=="proportionalFit")){var d=c.properties.alignType;if(a.settings.effectType=="swipe"){g.css("visibility","hidden");if(g[0].complete||g[0].readyState=="complete"){g.css("visibility","");da(g,d)}else{qb(z[g.data("index")]);g.load(function(){g.css("visibility","");da(g,d);Ga(z[g.data("index")])}).error(function(){Ga(z[g.data("index")]);L=false})}Ha()}else if(g[0].complete||g[0].readyState=="complete"){da(g,d);Ha()}else{qb(t);g.load(function(){da(g,d);Ga(t);Ha()}).error(function(){Ga(t);L=false})}}else Ha();if(a.settings.slideButtons){h=p.find(".buttons-inner");h.find(".select").removeClass("select");h.find("a").eq(b).attr("class","select")}if(a.settings.thumbnailType=="scroller"||a.settings.thumbnailType=="tooltipAndScroller"){v.find(".thumbnail.select").removeClass("select");v.find(".thumbnail[data-index="+b+"]").removeClass("over").addClass("select");if(a.settings.thumbnailSync){b=Math.floor(b/(W*F));b!=O&&ga(b)}}c={type:"slideOpen",index:n,data:c};i.isFunction(a.settings.slideOpen)&&a.settings.slideOpen.call(this,c)}}function ea(){ta(n==G-1?0:n+1)}function la(){ta(n==0?G-1:n-1)}function Nb(b){var e=[];if(!(G<=1)){if(G==2)if(b==0)e.push(1);else b==1&&e.push(0);else if(G>=3)e.push(b==0?G-1:b-1,b==G-1?0:b+1);for(b=0;b<e.length;b++){var c=e[b],g=y[c];if(g.lazyImage&&!g.lazyImageLoaded){var h=z[c].find("img.image"),d=i('<img class="image"/>').attr("src",g.lazyImage),f=g.properties.alignType;h.attr("alt")&&d.attr("alt",h.attr("alt"));h.attr("title")&&d.attr("title",h.attr("title"));d.data("index",c);if(h.length){d.prependTo(h.parent());h.remove()}else d.prependTo(z[c]);h=d;g.lazyImageLoaded=true;g.imagePath=h.attr("src");h[0].complete||h[0].readyState=="complete"?da(h,f):h.load(function(){da(h,f)})}}}}function qb(b){if(!b.find(".preloader").length){var e=i('<div class="preloader"></div>').hide().appendTo(b),c=(b.outerWidth(true)-e.width())*0.5;b=(b.outerHeight(true)-e.height())*0.5;e.fadeIn(300);e.css({left:c,top:b})}}function Ga(b){b.find(".preloader").stop().remove()}function oa(b){b.preventDefault()}function Ha(){var b=y[n].properties.effectType;if(!a.settings.initialEffect&&rb){b="none";rb=false}if(a.settings.effectType=="swipe")b="swipe";else if(b=="random")b=ua(["slice","slide","fade"]);pb=b;var e={type:"transitionStart",index:n,data:y[n]};i.isFunction(a.settings.transitionStart)&&a.settings.transitionStart.call(this,e);switch(b){case"none":C!=-1&&z[C].css("visibility","");z[n].css("visibility","visible");M();break;case"fade":sb();break;case"slide":Ob();break;case"swipe":Pb();break;case"slice":Qb();break;default:sb()}}function sb(){var b=y[n].properties,e=z[n],c,g=parseInt(b.fadeInDuration),h=b.fadeInEasing,d=parseInt(b.fadeOutDuration);b=b.fadeOutEasing;w&&e.find("*").each(function(){i(this).hasClass(".caption-container")||i(this).parents(".caption-container").length==1||i(this).css("filter","inherit")});e.css({visibility:"visible",opacity:0}).animate({opacity:1},g,h,function(){e.css({opacity:""});w&&e.find("*").each(function(){i(this).hasClass(".caption-container")||i(this).parents(".caption-container").length==1||i(this).css("filter","")});M()});if(C!=-1){c=z[C];w&&c.find("*").each(function(){i(this).hasClass(".caption-container")||i(this).parents(".caption-container").length==1||i(this).css("filter","inherit")});c.animate({opacity:0},d,b,function(){c.css({visibility:"",opacity:""});w&&c.find("*").each(function(){i(this).hasClass(".caption-container")||i(this).parents(".caption-container").length==1||i(this).css("filter","")})})}}function Ob(){var b=y[n].properties,e=z[n],c,g=b.slideDirection,h=parseInt(b.slideDuration),d=b.slideEasing;b=b.slideLoop;if(C!=-1)c=z[C];if(g=="random")g=ua(["autoHorizontal","autoVertical","rightToLeft","leftToRight","topToBottom","bottomToTop"]);e.css("visibility","visible");var f={},j,s;switch(g){case"autoHorizontal":j="left";s=n==0&&C==G-1&&b?t.width():n==G-1&&C==0&&b?-t.width():n>C?t.width():-t.width();break;case"autoVertical":j="top";s=n==0&&C==G-1&&b?t.height():n==G-1&&C==0&&b?-t.height():n>C?t.height():-t.height();break;case"rightToLeft":j="left";s=t.width();break;case"leftToRight":j="left";s=-t.width();break;case"topToBottom":j="top";s=-t.height();break;case"bottomToTop":j="top";s=t.height();break;default:j="left";s=n>C?t.width():-t.width()}e.css(j,s);f[j]=0;e.animate(f,{duration:h,easing:d,complete:function(){e.css({left:"",top:""});C!=-1&&c.css({visibility:"",left:"",top:""});M()},step:function(o){c&&c.css(j,o-s)}})}function Pb(){if(C==-1){l.css("overflow","visible").bind("dragstart",oa).find(".slide").each(function(h){var d=i(this);if(a.settings.swipeOrientation=="horizontal")d.css({top:0,left:h*(l.width()+a.settings.swipeSlideDistance),visibility:"visible"});else a.settings.swipeOrientation=="vertical"&&d.css({top:h*(l.height()+a.settings.swipeSlideDistance),left:0,visibility:"visible"})});a.settings.swipeGrabCursor&&l.addClass("grab");var b,e,c=false,g=false;if(a.settings.swipeTouchDrag&&"ontouchstart"in window)g=c=true;if(!g&&a.settings.swipeMouseDrag)c=true;if(a.settings.swipeOrientation=="horizontal"){l.css("left",-sa*(l.width()+a.settings.swipeSlideDistance));c&&l.swipe({threshold:a.settings.swipeThreshold,allowPageScroll:"vertical",swipeStatus:function(h,d,f,j){if(d=="start"){b=parseInt(l.css("left"));l.is(":animated")&&l.stop();h=i(h.target).closest("a");if(h.length){h.unbind("click",oa).bind("click",oa);h.has("rel")&&h.unbind("click.prettyphoto")}a.settings.swipeGrabCursor&&l.removeClass("grab").addClass("grabbing")}else if(d=="move"){e=n==G-1&&f=="left"||n==0&&f=="right"?0.2:1;if(f=="left")l.css("left",b-j*e);else f=="right"&&l.css("left",b+j*e)}else if(d=="cancel"){l.stop().animate({left:-n*(l.width()+a.settings.swipeSlideDistance)},a.settings.swipeBackDuration,a.settings.swipeEasing,function(){L&&M()});a.settings.swipeGrabCursor&&l.removeClass("grabbing").addClass("grab")}},click:function(h){h=i(h.target).closest("a");if(h.length){h.unbind("click",oa);h.attr("rel")&&i.prettyPhoto&&h.bind("click.prettyphoto",i.prettyPhoto.initialize)}},swipeLeft:function(){n<G-1?ea():l.stop().animate({left:-n*(l.width()+a.settings.swipeSlideDistance)},a.settings.swipeBackDuration,a.settings.swipeEasing,function(){L&&M()});a.settings.swipeGrabCursor&&l.removeClass("grabbing").addClass("grab")},swipeRight:function(){n>0?la():l.stop().animate({left:-n*(l.width()+a.settings.swipeSlideDistance)},a.settings.swipeBackDuration,a.settings.swipeEasing,function(){L&&M()});a.settings.swipeGrabCursor&&l.removeClass("grabbing").addClass("grab")}})}else if(a.settings.swipeOrientation=="vertical"){l.css("top",-sa*(l.height()+a.settings.swipeSlideDistance));c&&l.swipe({threshold:a.settings.swipeThreshold,allowPageScroll:"horizontal",swipeStatus:function(h,d,f,j){if(d=="start"){b=parseInt(l.css("top"));l.is(":animated")&&l.stop();h=i(h.target).closest("a");if(h.length){h.unbind("click",oa).bind("click",oa);h.has("rel")&&h.unbind("click.prettyphoto")}a.settings.swipeGrabCursor&&l.removeClass("grab").addClass("grabbing")}else if(d=="move"){e=n==G-1&&f=="up"||n==0&&f=="down"?0.2:1;if(f=="up")l.css("top",b-j*e);else f=="down"&&l.css("top",b+j*e)}else if(d=="cancel"){l.stop().animate({top:-n*(l.height()+a.settings.swipeSlideDistance)},a.settings.swipeBackDuration,a.settings.swipeEasing,function(){L&&M()});a.settings.swipeGrabCursor&&l.removeClass("grabbing").addClass("grab")}},click:function(h){h=i(h.target).closest("a");if(h.length){h.unbind("click",oa);h.attr("rel")&&i.prettyPhoto&&h.bind("click.prettyphoto",i.prettyPhoto.initialize)}},swipeUp:function(){n<G-1?ea():l.stop().animate({top:-n*(l.height()+a.settings.swipeSlideDistance)},a.settings.swipeBackDuration,a.settings.swipeEasing,function(){L&&M()});a.settings.swipeGrabCursor&&l.removeClass("grabbing").addClass("grab")},swipeDown:function(){n>0?la():l.stop().animate({top:-n*(l.height()+a.settings.swipeSlideDistance)},a.settings.swipeBackDuration,a.settings.swipeEasing,function(){L&&M()});a.settings.swipeGrabCursor&&l.removeClass("grabbing").addClass("grab")}})}M()}else if(a.settings.swipeOrientation=="horizontal")l.stop().animate({left:-n*(l.width()+a.settings.swipeSlideDistance)},a.settings.swipeDuration,a.settings.swipeEasing,function(){if(i.support.transition&&!l.is(":animated"))M();else i.support.transition||M()});else a.settings.swipeOrientation=="vertical"&&l.stop().animate({top:-n*(l.height()+a.settings.swipeSlideDistance)},a.settings.swipeDuration,a.settings.swipeEasing,function(){if(i.support.transition&&!l.is(":animated"))M();else i.support.transition||M()})}function Qb(){var b=y[n],e=b.properties,c=e.sliceEffectType,g=e.htmlDuringTransition,h=parseInt(e.horizontalSlices),d=parseInt(e.verticalSlices),f=e.slicePattern,j=e.slicePoint,s=e.sliceStartPosition,o=parseFloat(e.sliceStartRatio),r=parseInt(e.sliceDuration),u=e.sliceEasing,k=parseInt(e.sliceDelay),q=e.sliceFade==true||effectType=="fade"?0:1,x=e.fadePreviousSlide,B=parseInt(e.fadePreviousSlideDuration),A=Math.floor(t.width()/h),H=Math.floor(t.height()/d);z[n].find("img.image").clone();var $a=z[n].clone(),tb=[];if(C!=-1&&x==true){var Ia=z[C];w&&Ia.find("*").each(function(){i(this).hasClass(".caption-container")||i(this).parents(".caption-container").length==1||i(this).css("filter","inherit")});Ia.animate({opacity:0},B,function(){Ia.css({visibility:"",opacity:""});w&&Ia.find("*").each(function(){i(this).hasClass(".caption-container")||i(this).parents(".caption-container").length==1||i(this).css("filter","")})})}$a.css("visibility","visible").find(".caption-container").remove();g||$a.find(".html").remove();ma=i('<div class="slice-container"></div>').appendTo(t);e.slideMask&&ma.css("overflow","hidden");for(e=0;e<h;e++)for(g=0;g<d;g++){x=i('<div class="slice"></div>').css({left:e*A,top:g*H,width:A,height:H,opacity:q,display:"none"}).data({hPos:e,vPos:g}).appendTo(ma);var Ja;if(b.html||b.imagePath)Ja=$a.clone();if(Ja){Ja.css({left:-(e*A),top:-(g*H),width:t.width(),height:t.height(),overflow:"hidden",position:"absolute"});x.html(Ja).css("overflow","hidden")}w&&x.find("*").each(function(){i(this).css("filter","inherit")});tb.push(x)}if(c=="random")c=ua(["scale","fade","width","height","slide"]);if(f=="random")f=ua(["randomPattern","topToBottom","bottomToTop","leftToRight","rightToLeft","topLeftToBottomRight","topRightToBottomLeft","bottomLeftToTopRight","bottomRightToTopLeft","horizontalMarginToCenter","horizontalCenterToMargin","marginToCenter","verticalCenterToMargin","skipOneTopToBottom","skipOneBottomToTop","skipOneLeftToRight","skipOneRightToLeft","skipOneHorizontal","skipOneVertical","spiralMarginToCenterCW","spiralMarginToCenterCCW","spiralCenterToMarginCW","spiralCenterToMarginCCW"]);if(h==1&&f=="skipOneHorizontal"||d==1&&f=="skipOneVertical")f="randomPattern";if(j=="random")j=ua(["leftTop","leftCenter","leftBottom","centerTop","centerCenter","centerBottom","rightTop","rightCenter","rightBottom"]);if(s=="random")s=ua(["left","right","top","bottom","leftTop","rightTop","leftBottom","rightBottom","horizontalAlternate","verticalAlternate"]);b=Rb(tb,f,h,d);Ka=b.length;for(e=0;e<Ka;e++)Sb(b[e],e,c,j,s,o,r,u,k)}function Sb(b,e,c,g,h,d,f,j,s){var o={},r={},u=parseInt(b.css("width")),k=parseInt(b.css("height")),q=parseInt(b.css("left")),x=parseInt(b.css("top")),B,A;if(c=="scale"||c=="width"||c=="height")switch(g){case"centerCenter":A=x+k*0.5;B=q+u*0.5;break;case"rightCenter":A=x+k*0.5;B=q+u;break;case"leftCenter":A=x+k*0.5;B=q;break;case"centerTop":A=x;B=q+u*0.5;break;case"rightTop":A=x;B=q+u;break;case"leftTop":A=x;B=q;break;case"centerBottom":A=x+k;B=q+u*0.5;break;case"rightBottom":A=x+k;B=q+u;break;case"leftBottom":A=x+k;B=q;break;default:A=x+k*0.5;B=q+u*0.5}else if(c=="slide")switch(h){case"left":A=x;B=q-u*d;break;case"right":A=x;B=q+u*d;break;case"top":A=x-k*d;B=q;break;case"bottom":A=x+k*d;B=q;break;case"leftTop":A=x-k*d;B=q-u*d;break;case"rightTop":A=x-k*d;B=q+u*d;break;case"leftBottom":A=x+k*d;B=q-u*d;break;case"rightBottom":A=x+k*d;B=q+u*d;break;case"horizontalAlternate":A=x;B=q+u*d*(e%2==0?1:-1);break;case"verticalAlternate":A=x+k*d*(e%2==0?1:-1);B=q;break;default:A=x;B=q-u*d}switch(c){case"fade":r={opacity:1};break;case"scale":o={width:0,height:0,left:B,top:A};r={width:u,height:k,left:q,top:x,opacity:1};break;case"width":o={width:0,left:B};r={width:u,left:q,opacity:1};break;case"height":o={height:0,top:A};r={height:k,top:x,opacity:1};break;case"slide":o={left:B,top:A};r={left:q,top:x,opacity:1};break;default:r={opacity:1}}var H=setTimeout(function(){b.css(o).css("display","block").data("delay",H).animate(r,f,j,function(){Ka--;if(Ka==0){ma.find(".slice").each(function(){i(this).remove();w&&i(this).find("*").each(function(){i(this).css("filter","inherit")})});ma.remove();C!=-1&&z[C].css({visibility:""});z[n].css("visibility","visible");M()}})},e*s)}function M(){var b=y[n],e=parseInt(b.properties.captionDelay);L=false;if(a.settings.slideshow&&N!="stopped")if(!a.settings.slideshowLoop&&n==G-1)Ea();else{La();if(a.settings.pauseSlideshowOnHover&&V||K)ha()}t.find(".transition").removeClass("transition");if(n!=fa){if(ia&&a.settings.effectType=="swipe"){ia=false;Wa();Aa&&clearTimeout(Aa)}if(b.caption){ia=true;Aa=setTimeout(function(){if(!a.settings.captionToggle||a.settings.captionToggle&&V)gb()},e)}else fa=-1}a.settings.preloadNearbyImages&&Nb(n);var c=z[n].children('a[rel^="slider-lightbox"]');if(c.length&&a.settings.lightboxIcon){xa=true;e=c.attr("href");var g;e=e.indexOf("iframe=true")!=-1||e.indexOf("ajax=true")!=-1||e.indexOf("custom=true")!=-1?"link":e.indexOf("youtube.com")!=-1||e.indexOf("youtu.be")!=-1||e.indexOf("vimeo.com")!=-1?"video":"image";g=i('<div class="lightbox-icon"></div>').appendTo(t);if(e=="video")g.addClass("play");else if(e=="link")g.addClass("hyperlink");else e=="image"&&g.addClass("magnifying");if(a.settings.lightboxIconToggle&&!V)g.css("opacity",0);else w||g.css({opacity:0}).stop().animate({opacity:1},a.settings.lightboxIconFadeDuration);g.click(function(){c.trigger("click")})}if(i.fn.videoController&&(z[n].find(".video").length||z[n].find("[id^=video]").length)){if(y[n].videoInstance)na=y[n].videoInstance;else{na=(z[n].find(".video").length?z[n].find(".video"):z[n].find("[id^=video]").first()).videoController({reachVideoAction:a.settings.reachVideoAction,leaveVideoAction:a.settings.leaveVideoAction,start:function(){if(a.settings.videoPlayAction=="stopSlideshow"&&!K)Fa();else a.settings.videoPlayAction=="pauseSlideshow"&&!K&&ha()},play:function(){Va=true;if(a.settings.videoPlayAction=="stopSlideshow"&&!K)Fa();else a.settings.videoPlayAction=="pauseSlideshow"&&!K&&ha();var h={type:"videoPlay"};i.isFunction(a.settings.videoPlay)&&a.settings.videoPlay.call(this,h)},pause:function(){if(a.settings.videoPauseAction=="startSlideshow"&&!K)La();else a.settings.videoPauseAction=="resumeSlideshow"&&!K&&ra();var h={type:"videoPause"};i.isFunction(a.settings.videoPause)&&a.settings.videoPause.call(this,h)},end:function(){if(a.settings.videoEndAction=="resetVideo")na.stopVideo();else if(a.settings.videoEndAction=="startSlideshow"&&!K)La();else if(a.settings.videoEndAction=="resumeSlideshow"&&!K)ra();else a.settings.videoEndAction=="nextSlide"&&ea();var h={type:"videoEnd"};i.isFunction(a.settings.videoEnd)&&a.settings.videoEnd.call(this,h)},fullscreenchange:function(){if(i.browser.msie)if(i("body").hasClass("vjs-full-window")){a.settings.timerAnimation&&p.find(".timer-animation").css("visibility","hidden");a.settings.slideArrows&&t.find(".slide-arrows").css("visibility","hidden");a.settings.slideButtons&&p.find(".slide-buttons").css("visibility","hidden");a.settings.slideshowControls&&t.find(".slideshow-controls").css("visibility","hidden");a.settings.lightboxIcon&&t.find(".lightbox-icon").css("visibility","hidden");if(a.settings.thumbnailType=="scroller"||a.settings.thumbnailType=="tooltipAndScroller")p.find(".thumbnail-scroller").css("visibility","hidden")}else{a.settings.timerAnimation&&p.find(".timer-animation").css("visibility","visible");a.settings.slideArrows&&t.find(".slide-arrows").css("visibility","visible");a.settings.slideButtons&&p.find(".slide-buttons").css("visibility","visible");a.settings.slideshowControls&&t.find(".slideshow-controls").css("visibility","visible");a.settings.lightboxIcon&&t.find(".lightbox-icon").css("visibility","visible");if(a.settings.thumbnailType=="scroller"||a.settings.thumbnailType=="tooltipAndScroller")p.find(".thumbnail-scroller").css("visibility","visible")}var h={type:"videoFullscreenChange"};i.isFunction(a.settings.videoFullscreenChange)&&a.settings.videoFullscreenChange.call(this,h)}});y[n].videoInstance=na}na.reachVideo()}b={type:"transitionComplete",index:n,data:b};i.isFunction(a.settings.transitionComplete)&&a.settings.transitionComplete.call(this,b)}function gb(){fa=n;var b=y[fa].properties,e=b.captionPosition,c=b.captionSize,g=b.captionWidth,h=b.captionHeight,d=b.captionLeft,f=b.captionTop,j=b.captionShowEffect,s=parseInt(b.captionShowEffectDuration),o=b.captionShowEffectEasing,r=b.captionShowSlideDirection;g=e=="custom"?g:"100%";h=e=="custom"?h:"100%";d=e=="custom"?d:0;f=e=="custom"?f:0;var u=z[n].find(".caption-container"),k=u.find(".wrapper");k.find(".background");k.find(".caption");parseFloat(b.captionBackgroundOpacity);b=b.captionBackgroundColor;var q=j=="fade"?0:c;switch(e){case"left":u.css({width:c,height:h,left:d,top:f});r=="auto"&&k.css({width:c,height:h,left:-q,top:0});break;case"right":u.css({width:c,height:h,right:d,top:f});r=="auto"&&k.css({width:c,height:h,left:q,top:0});break;case"top":u.css({width:g,height:c,left:d,top:f});r=="auto"&&k.css({width:g,height:c,left:0,top:-q});break;case"bottom":u.css({width:g,height:c,left:d,bottom:f});r=="auto"&&k.css({width:g,height:c,left:0,top:q});break;case"custom":u.css({width:g,height:h,left:d,top:f});k.css({width:g,height:h,left:0,top:0});break;case"default":u.css({width:g,height:c,left:d,bottom:f});r=="auto"&&k.css({width:g,height:c,left:0,top:q})}if(j=="fade")w?u.css("visibility","visible"):k.stop().css({opacity:0}).animate({opacity:1},s,o);else{w?u.css("visibility","visible"):k.stop().css({opacity:1});e=="custom"&&u.css({width:g,height:h,left:d,top:f});if(r=="topToBottom")k.css({width:g,height:h,left:0,top:-h});else if(r=="bottomToTop")k.css({width:g,height:h,left:0,top:h});else if(r=="leftToRight")k.css({width:g,height:h,left:-g,top:0});else r=="rightToLeft"&&k.css({width:g,height:h,left:g,top:0});i.browser.msie&&i.browser.version=="6.0"&&k.css("background-color",b);k.stop().animate({top:0,left:0},s,o)}}function Wa(){if(fa!=-1){var b=z[fa].find(".caption-container"),e=b.find(".wrapper");e.find(".background");e.find(".caption");var c=y[fa].properties,g=c.captionPosition,h=c.captionHideEffect,d=parseInt(c.captionHideEffectDuration),f=c.captionHideEffectEasing;c=c.captionHideSlideDirection;if(h=="fade")w?b.css("visibility","hidden"):e.stop().animate({opacity:0},d,f);else if(c=="topToBottom")e.animate({top:e.height()},d);else if(c=="bottomToTop")e.animate({top:-e.height()},d);else if(c=="leftToRight")e.animate({left:e.width()},d);else if(c=="rightToLeft")e.animate({left:-e.width()},d);else if(c=="auto")switch(g){case"left":e.stop().animate({left:-e.width()},d);break;case"right":e.stop().animate({left:e.width()},d);break;case"top":e.stop().animate({top:-e.height()},d);break;case"bottom":e.stop().animate({top:e.height()},d);break;case"custom":e.stop().animate({top:e.height()},d);break;case"default":e.stop().animate({top:e.height()},d)}}}function La(){var b=y[n].properties.slideshowDelay;N="playing";a.settings.timerAnimation&&Tb(b);Ma=0;Na=(new Date).getTime();X&&clearTimeout(X);X=setTimeout(function(){ja="slideshow";if(a.settings.slideshowDirection=="next")ea();else a.settings.slideshowDirection=="previous"&&la()},b)}function ob(){if(!a.settings.slideshow)a.settings.slideshow=true;p.find(".slideshow-controls").removeClass("play").addClass("pause");La()}function Ea(){p.find(".slideshow-controls").removeClass("pause").addClass("play");N="stopped";Fa()}function Fa(){X&&clearTimeout(X);a.settings.timerAnimation&&Ub()}function ha(){if(a.settings.slideshow&&N=="playing"&&!L){X&&clearTimeout(X);N="paused";Ma+=(new Date).getTime()-Na}}function ra(){if(a.settings.slideshow&&N=="paused"&&!L){var b=y[n].properties.slideshowDelay;N="playing";Na=(new Date).getTime();X&&clearTimeout(X);X=setTimeout(function(){if(a.settings.slideshowDirection=="next")ea();else a.settings.slideshowDirection=="previous"&&la()},b-Ma)}}function Tb(b){var e=document.createElement("canvas"),c=Math.max(a.settings.timerStrokeWidth1,a.settings.timerStrokeWidth2)+a.settings.timerRadius*2,g=c/2,h=Math.PI/180,d=0,f,j,s=a.settings.timerStrokeOpacity1,o=a.settings.timerStrokeOpacity2,r=va(a.settings.timerStrokeColor1).red,u=va(a.settings.timerStrokeColor1).green,k=va(a.settings.timerStrokeColor1).blue,q=va(a.settings.timerStrokeColor2).red,x=va(a.settings.timerStrokeColor2).green,B=va(a.settings.timerStrokeColor2).blue;e.width=e.height=c;var A=i('<div class="timer-animation"></div>').css({width:c,height:c}).appendTo(t);i(e).appendTo(A);if(a.settings.timerAnimationControls){i('<div class="timer-animation-controls"></div>').appendTo(A);K?A.addClass("play"):A.addClass("pause");A.click(function(){if(K){if(K){K=false;A.removeClass("play").addClass("pause");a.settings.pauseSlideshowOnHover&&V||ra()}}else{K=true;A.removeClass("pause").addClass("play");a.settings.pauseSlideshowOnHover&&V||ha()}})}if(a.settings.timerToggle&&!V)A.css("opacity",1);else w||A.css({opacity:1}).stop().animate({opacity:1},a.settings.timerFadeDuration);var H;if(e.getContext)H=e.getContext("2d");else if(typeof G_vmlCanvasManager!="undefined"&&w)H=G_vmlCanvasManager.initElement(e).getContext("2d");else return;H.beginPath();H.lineWidth=a.settings.timerStrokeWidth1;H.strokeStyle="rgba("+r+", "+u+", "+k+", "+s+")";H.arc(g,g,a.settings.timerRadius,0,2*Math.PI,false);H.stroke();ab=setInterval(function(){if(d<=360&&!(a.settings.pauseSlideshowOnHover&&V||qa||K||N=="paused")){f=(new Date).getTime();j=f-Na;d=(Ma+j)/b*360+1;if(d>360)d=360;e.width=e.width;H.beginPath();H.lineWidth=a.settings.timerStrokeWidth1;H.strokeStyle="rgba("+r+", "+u+", "+k+", "+s+")";H.arc(g,g,a.settings.timerRadius,0,2*Math.PI,false);H.stroke();H.beginPath();H.lineWidth=a.settings.timerStrokeWidth2;H.strokeStyle="rgba("+q+", "+x+", "+B+", "+o+")";H.arc(g,g,a.settings.timerRadius,0,d*h,false);H.stroke()}},20)}function Ub(){ab&&clearInterval(ab);var b=t.find(".timer-animation");if(b)w?b.remove():b.stop().animate({opacity:1},a.settings.timerFadeDuration,function(){b.remove()})}function Hb(){v=i('<div class="thumbnail-scroller"></div>').appendTo(p);I=i('<div class="visible-container"></div>').appendTo(v);P=i('<ul class="container"></ul>').appendTo(I);a.settings.thumbnailOrientation=="horizontal"?v.addClass("horizontal"):v.addClass("vertical");a.settings.thumbnailScrollerOverlay&&v.addClass("overlay");for(var b=0;b<G;b++)if(y[b].thumbnail&&(y[b].properties.thumbnailType=="scroller"||y[b].properties.thumbnailType=="tooltipAndScroller")){var e=y[b].thumbnail.is("a"),c=e?y[b].thumbnail.find("img").removeClass("thumbnail"):y[b].thumbnail,g=c.attr("src"),h=c.attr("alt");c.attr("title");var d=i('<li class="thumbnail-wrapper"></li>').appendTo(P);if(e){e=y[b].thumbnail;e.addClass("thumbnail").css({width:a.settings.thumbnailWidth,height:a.settings.thumbnailHeight}).attr("data-index",b).appendTo(d);if(c[0].complete||c[0].readyState=="complete"){c.css("margin-left",(a.settings.thumbnailWidth-c.width())*0.5);c.css("margin-top",(a.settings.thumbnailHeight-c.height())*0.5);e.css("background-image","none")}else c.load(function(){i(this).css("margin-left",(a.settings.thumbnailWidth-i(this).width())*0.5);i(this).css("margin-top",(a.settings.thumbnailHeight-i(this).height())*0.5);i(this).parent().css("background-image","none")})}else{e=i('<a class="thumbnail"></a>').css({"background-image":"url("+g+")",width:a.settings.thumbnailWidth,height:a.settings.thumbnailHeight}).attr("data-index",b).appendTo(d);y[b].thumbnail.attr("title")&&e.attr("title",y[b].thumbnail.attr("title"))}d.css({width:e.outerWidth(),height:e.outerHeight()});F=a.settings.thumbnailLayers==-1||a.settings.thumbnailLayers*a.settings.maximumVisibleThumbnails>G?Math.ceil(G/a.settings.maximumVisibleThumbnails):a.settings.thumbnailLayers;if(a.settings.thumbnailOrientation=="horizontal"){d.css("left",Math.floor(Q/F)*d.outerWidth(true));d.css("top",Q%F*d.outerHeight(true))}else{d.css("left",Q%F*d.outerWidth(true));d.css("top",Math.floor(Q/F)*d.outerHeight(true))}if(h){c=i('<div class="caption"></div>').appendTo(e);g=i('<div class="background"></div>').appendTo(c);h=i('<div class="content">'+h+"</div>").appendTo(c);c.css("height",h.outerHeight(true));a.settings.thumbnailCaptionPosition=="top"?c.css({top:0}):c.css({bottom:0});if(a.settings.thumbnailCaptionToggle)if(a.settings.thumbnailCaptionEffect=="slide")a.settings.thumbnailCaptionPosition=="top"?c.css({top:-c.outerHeight(true)}):c.css({bottom:-c.outerHeight(true)});else if(w){g.data("opacity",g.css("opacity"));g.css("opacity",0);h.css("opacity",0)}else c.css("opacity",0)}d=d.children('a[rel^="slider-lightbox"]');h=z[b].children('a[rel^="slider-lightbox"]');c=d.length&&a.settings.lightboxIcon;g=h.length&&a.settings.thumbnailLightboxIcon;if(c||g){d=c?d.attr("href"):h.attr("href");d=d.indexOf("iframe=true")!=-1||d.indexOf("ajax=true")!=-1||d.indexOf("custom=true")!=-1?"link":d.indexOf("youtube.com")!=-1||d.indexOf("youtu.be")!=-1||d.indexOf("vimeo.com")!=-1?"video":"image";h=i('<div class="lightbox-icon"></div>').appendTo(e);if(d=="video")h.addClass("play");else if(d=="link")h.addClass("hyperlink");else d=="image"&&h.addClass("magnifying");a.settings.thumbnailLightboxIconToggle&&h.css("opacity",0)}e.hover(function(){i(this).hasClass("select")||i(this).addClass("over");var f=parseInt(i(this).data("index"));if(a.settings.thumbnailCaptionToggle){var j=i(this).children(".caption"),s=j.children(".background"),o=j.children(".content"),r=s.data("opacity");if(a.settings.thumbnailCaptionEffect=="slide")a.settings.thumbnailCaptionPosition=="top"?j.stop().animate({top:0},a.settings.thumbnailCaptionShowDuration,a.settings.thumbnailCaptionEasing):j.stop().animate({bottom:0},a.settings.thumbnailCaptionShowDuration,a.settings.thumbnailCaptionEasing);else if(w){s.stop().animate({opacity:r},a.settings.thumbnailCaptionShowDuration,a.settings.thumbnailCaptionEasing);o.stop().animate({opacity:1},a.settings.thumbnailCaptionShowDuration,a.settings.thumbnailCaptionEasing)}else j.stop().animate({opacity:1},a.settings.thumbnailCaptionShowDuration,a.settings.thumbnailCaptionEasing)}if(a.settings.thumbnailLightboxIconToggle){j=i(this).children(".lightbox-icon");w?j.css("filter",""):j.stop().animate({opacity:1},a.settings.lightboxIconFadeDuration)}a.settings.thumbnailTooltip&&Vb(f);f={type:"thumbnailMouseOver",index:f};i.isFunction(a.settings.thumbnailMouseOver)&&a.settings.thumbnailMouseOver.call(this,f)},function(){i(this).hasClass("select")||i(this).removeClass("over");var f=parseInt(i(this).data("index"));if(a.settings.thumbnailCaptionToggle){var j=i(this).children(".caption"),s=j.children(".background"),o=j.children(".content");if(a.settings.thumbnailCaptionEffect=="slide")a.settings.thumbnailCaptionPosition=="top"?j.stop().animate({top:-j.outerHeight(true)},a.settings.thumbnailCaptionHideDuration,a.settings.thumbnailCaptionEasing):j.stop().animate({bottom:-j.outerHeight(true)},a.settings.thumbnailCaptionHideDuration,a.settings.thumbnailCaptionEasing);else if(w){s.stop().animate({opacity:0},a.settings.thumbnailCaptionHideDuration,a.settings.thumbnailCaptionEasing);o.stop().animate({opacity:0},a.settings.thumbnailCaptionHideDuration,a.settings.thumbnailCaptionEasing)}else j.stop().animate({opacity:0},a.settings.thumbnailCaptionHideDuration,a.settings.thumbnailCaptionEasing)}if(a.settings.thumbnailLightboxIconToggle){j=i(this).children(".lightbox-icon");w?j.css("opacity",0):j.stop().animate({opacity:0},a.settings.lightboxIconFadeDuration)}a.settings.thumbnailTooltip&&Wb(f);f={type:"thumbnailMouseOut",index:f};i.isFunction(a.settings.thumbnailMouseOut)&&a.settings.thumbnailMouseOut.call(this,f)});e.click(function(){var f=i(this).data("index");ja="thumbnail";var j={type:"thumbnailClick",index:f};i.isFunction(a.settings.thumbnailClick)&&a.settings.thumbnailClick.call(this,j);i(this).attr("href")||ta(f)});Q++}R=v.find(".thumbnail-wrapper").outerWidth(true);S=v.find(".thumbnail-wrapper").outerHeight(true);T=Math.ceil(Q/(a.settings.maximumVisibleThumbnails*F));if(a.settings.thumbnailOrientation=="horizontal"){v.css({height:S*F,width:R*a.settings.maximumVisibleThumbnails});I.css({height:S*F,width:R*a.settings.maximumVisibleThumbnails})}else{v.css({width:R*F,height:S*a.settings.maximumVisibleThumbnails});I.css({width:R*F,height:S*a.settings.maximumVisibleThumbnails})}a.settings.thumbnailArrows&&Xb();a.settings.thumbnailButtons&&ub();a.settings.thumbnailScrollbar&&Yb();a.settings.thumbnailMouseScroll&&za();a.settings.thumbnailMouseWheel&&vb();a.settings.thumbnailTooltip&&i('<div class="advanced-slider-tooltip"><div class="content"></div></div>').hide().appendTo(i("body"));Ya();if(a.settings.thumbnailScrollerToggle){v.css({opacity:0});v.hover(function(){w?v.css("filter",""):v.stop().animate({opacity:1},a.settings.thumbnailScrollerShowDuration)},function(){w?v.css("opacity",0):v.stop().animate({opacity:0},a.settings.thumbnailScrollerHideDuration)})}}function Ya(){if(a.settings.thumbnailOrientation=="horizontal"){var b=a.settings.thumbnailArrows?parseInt(v.css("paddingLeft"))+parseInt(v.css("paddingRight")):0;Y=Math.ceil(Q/F)*R;W=a.settings.thumbnailScrollerResponsive?Math.max(a.settings.minimumVisibleThumbnails,Math.min(Math.ceil(Q/F),a.settings.maximumVisibleThumbnails,Math.floor((t.outerWidth()-b)/R))):Math.min(Q,a.settings.maximumVisibleThumbnails);v.css("width",R*W);I.css("width",R*W)}else{b=a.settings.thumbnailArrows?parseInt(v.css("paddingTop"))+parseInt(v.css("paddingBottom")):0;Y=Math.ceil(Q/F)*S;W=a.settings.thumbnailScrollerResponsive?Math.max(a.settings.minimumVisibleThumbnails,Math.min(Math.ceil(Q/F),a.settings.maximumVisibleThumbnails,Math.floor((t.outerHeight()-b)/S))):Math.min(Q,a.settings.maximumVisibleThumbnails);v.css("height",W*S);I.css("height",W*S)}if(a.settings.thumbnailScrollerCenter)if(a.settings.thumbnailOrientation=="horizontal")v.css("left",(J.outerWidth()-v.outerWidth())/2);else a.settings.thumbnailOrientation=="vertical"&&v.css("top",(t.outerHeight()-v.outerHeight())/2);if(wb!=W){wb=W;T=Math.ceil(Q/(W*F));a.settings.thumbnailButtons&&a.settings.thumbnailScrollerResponsive&&ub();if(a.settings.thumbnailScrollbar&&a.settings.thumbnailScrollerResponsive)if(a.settings.thumbnailOrientation=="horizontal"){D.css("width",v.width());Oa.css("width",D.width()-thumbnailScrollerScrollbarEdgeSize);D.css("left",(v.outerWidth()-D.width())/2)}else{D.css("height",v.height());Oa.css("height",D.height()-thumbnailScrollerScrollbarEdgeSize);D.css("top",(v.outerHeight()-D.height())/2)}ga(O)}}function Xb(){ca=i('<div class="arrows"></div>').appendTo(v);var b=i('<a class="previous"></a>').click(function(){xb()}).appendTo(ca),e=i('<a class="next"></a>').click(function(){yb()}).appendTo(ca);if(a.settings.thumbnailOrientation=="horizontal"){b.css({top:Math.round((S*F-b.height())/2)});e.css({top:Math.round((S*F-e.height())/2)})}else{b.css({left:Math.round((R*F-b.width())/2)});e.css({left:Math.round((R*F-e.width())/2)})}if(a.settings.thumbnailArrowsToggle){i.browser.msie?ca.hide():ca.css("opacity",0);v.hover(function(){i.browser.msie?ca.show():ca.stop().animate({opacity:1},a.settings.thumbnailArrowsShowDuration)},function(){i.browser.msie?ca.hide():ca.stop().animate({opacity:0},a.settings.thumbnailArrowsHideDuration)})}}function ub(){if(!E){E=i('<div class="buttons"></div>').appendTo(v);if(a.settings.thumbnailButtonsToggle){w?E.hide():E.css("opacity",0);v.hover(function(){w?E.show():E.stop().animate({opacity:1},a.settings.thumbnailButtonsShowDuration)},function(){w?E.hide():E.stop().animate({opacity:0},a.settings.thumbnailButtonsShowDuration)})}}if(T==1)E.empty();else if(E.find(".buttons a").length!=T&&T>1){E.empty();for(var b,e=0;e<T;e++){var c=i('<a rel="'+e+'"></a>').appendTo(E);if(a.settings.thumbnailOrientation=="horizontal"){b=c.outerWidth(true);c.css("left",e*b)}else{b=c.outerHeight(true);c.css("top",e*b)}c.bind({mouseover:function(){i(this).hasClass("select")||i(this).addClass("over")},mouseout:function(){i(this).hasClass("select")||i(this).removeClass("over")},click:function(){var g=parseInt(i(this).attr("rel"));ga(g)}})}if(a.settings.thumbnailOrientation=="horizontal"){E.css("top",S*F);E.css("width",b*T);E.css("height",b);v.css("height",Math.max(v.height(),E.position().top+E.outerHeight(true)))}else{E.css("left",R*F);E.css("height",b*T);E.css("width",b);v.css("width",Math.max(v.width(),E.position().left+E.outerWidth(true)))}if(O>T-1)O=T-1;E.find("a").eq(O).addClass("select")}a.settings.thumbnailOrientation=="horizontal"?E.css("left",(v.outerWidth()-E.outerWidth())/2):E.css("top",(v.outerHeight()-E.outerHeight())/2)}function yb(){if(O<T-1){O++;ga(O)}else ga(0)}function xb(){if(O>0){O--;ga(O)}else ga(T-1)}function ga(b){var e=a.settings.thumbnailOrientation=="horizontal"?I.width():I.height(),c=b*e;O=b;if(O==T-1)c=Y-e;bb();P.animate(a.settings.thumbnailOrientation=="horizontal"?{left:-c}:{top:-c},{duration:a.settings.thumbnailScrollDuration,easing:a.settings.thumbnailScrollEasing,step:function(){Pa()},complete:function(){cb()}});if(a.settings.thumbnailButtons){e=v.find(".buttons");e.find(".select").removeClass("select");e.find("a").eq(b).removeClass("over").addClass("select")}}function hb(){zb=setInterval(function(){if(Ab!=Xa){Ab=Xa;if(Qa){clearTimeout(db);Qa=false}if(eb){eb=false;if(a.settings.slideArrows&&a.settings.slideArrowsToggle)w?p.find(".slide-arrows a").stop().show():p.find(".slide-arrows a").stop().animate({opacity:1},a.settings.slideArrowsShowDuration);if(a.settings.slideshowControls&&a.settings.slideshowControlsToggle)w?p.find(".slideshow-controls").stop().show():p.find(".slideshow-controls").stop().animate({opacity:1},a.settings.slideshowControlsShowDuration);if(a.settings.slideButtons&&a.settings.slideButtonsToggle)w?p.find(".slide-buttons").stop().show():p.find(".slide-buttons").stop().animate({opacity:1},a.settings.slideButtonsShowDuration)}}else if(!Qa){Qa=true;db=setTimeout(function(){eb=true;if(a.settings.slideArrows&&a.settings.slideArrowsToggle)w?p.find(".slide-arrows a").stop().hide():p.find(".slide-arrows a").stop().animate({opacity:0},a.settings.slideArrowsHideDuration);if(a.settings.slideshowControls&&a.settings.slideshowControlsToggle)w?p.find(".slideshow-controls").stop().hide():p.find(".slideshow-controls").stop().animate({opacity:0},a.settings.slideshowControlsHideDuration);if(a.settings.slideButtons&&a.settings.slideButtonsToggle)w?p.find(".slide-buttons").stop().hide():p.find(".slide-buttons").stop().animate({opacity:0},a.settings.slideButtonsHideDuration)},a.settings.autoToggleDelay)}},500)}function ib(){clearInterval(zb);clearTimeout(db)}function za(){a.settings.thumbnailMouseScroll=true;var b=0,e=false,c=I.offset().top,g=I.offset().left,h=I.width(),d=I.height(),f=a.settings.thumbnailOrientation=="horizontal"?h:d,j=a.settings.thumbnailOrientation=="horizontal"?g:c,s=a.settings.thumbnailOrientation=="horizontal"?"left":"top",o=parseInt(P.css(s));Ra=setInterval(function(){if(!e){e=true;c=I.offset().top;g=I.offset().left;h=I.width();d=I.height()}if(aa>g&&aa<g+h&&ba>c&&ba<c+d){b=Math.round((-((Y-f+200)*(((a.settings.thumbnailOrientation=="horizontal"?aa:ba)-j)/f))+100-o)*a.settings.thumbnailMouseScrollSpeed/100);o+=b}else if(Math.abs(b)>0.1){b*=a.settings.thumbnailMouseScrollEase/100;o+=b}else b=0;if(Math.abs(b)>0){if(o>=0)o=0;else if(o<=f-Y)o=f-Y;Pa();P.css(s,o)}},30)}function vb(){a.settings.thumbnailMouseWheel=true;var b=0,e=a.settings.thumbnailMouseWheelReverse?-1:1,c,g=a.settings.thumbnailOrientation=="horizontal"?"left":"top",h=a.settings.thumbnailOrientation=="horizontal"?I.width():I.height();I.bind("mousewheel",function(d,f){d.preventDefault();if(!Sa){bb();Sa=true;b=c=parseInt(P.css(g));Ta=setInterval(function(){if(Math.abs(b-c)>0.5){c+=(b-c)*(a.settings.thumbnailMouseWheelSpeed/100);Pa();P.css(g,c)}else cb()},30)}b+=e*f*10;if(b>=0)b=0;else if(b<=h-Y)b=h-Y})}function Yb(){function b(){o=(a.settings.thumbnailOrientation=="horizontal"?aa:ba)-pa.offset()[x]-r;e()}function e(){if(o<0)o=0;else if(o>parseInt(pa.css(q))-parseInt(s.css(q)))o=parseInt(pa.css(q))-parseInt(s.css(q));Ba&&s.css(x,o);u=o/(parseInt(pa.css(q))-parseInt(s.css(q)));if(!Ua){bb();Ua=true;k=parseInt(P.css(x));fb=setInterval(function(){if(Math.abs(Bb()+u)>0.0010){var B=(-u*(Y-parseInt(I.css(q)))-k)*a.settings.thumbnailScrollbarEase/100;k+=B;Pa();P.css(x,k)}else Ua&&cb()},30)}}D=i('<div class="scrollbar"></div>').appendTo(v);var c=i('<div class="back"></div>').appendTo(D),g=i('<div class="track"></div>').appendTo(D),h=i('<div class="forward"></div>').appendTo(D),d=i('<div class="track-middle"></div>').appendTo(g),f=i('<div class="track-back"></div>').appendTo(g),j=i('<div class="track-forward"></div>').appendTo(g),s=i('<div class="thumb"></div>').appendTo(g);i('<div class="thumb-middle"></div>').appendTo(s);i('<div class="thumb-back"></div>').appendTo(s);i('<div class="thumb-forward"></div>').appendTo(s);var o=0,r,u=0,k=0,q=a.settings.thumbnailOrientation=="horizontal"?"width":"height",x=a.settings.thumbnailOrientation=="horizontal"?"left":"top";D.addClass(a.settings.scrollbarSkin);pa=g;if(a.settings.thumbnailOrientation=="horizontal"){D.addClass("horizontal");D.css({top:S*F,left:(v.outerWidth()-D.width())/2});v.css("height",Math.max(v.height(),D.position().top+D.outerHeight(true)))}else{D.addClass("vertical");D.css({left:R*F,top:(v.outerHeight()-D.height())/2});v.css("width",Math.max(v.width(),D.position().left+D.outerWidth(true)))}if(c.width()==0&&h.width()==0){Oa=d;thumbnailScrollerScrollbarEdgeSize=a.settings.thumbnailOrientation=="horizontal"?f.width()+j.width():f.height()+j.height()}else{Oa=g;thumbnailScrollerScrollbarEdgeSize=a.settings.thumbnailOrientation=="horizontal"?c.width()+h.width():c.height()+h.height()}if(a.settings.thumbnailScrollbarToggle){w?D.hide():D.css("opacity",0);v.hover(function(){w?D.show():D.stop().animate({opacity:1},a.settings.thumbnailScrollbarShowDuration)},function(){w?D.hide():D.stop().animate({opacity:0},a.settings.thumbnailScrollbarShowDuration)})}s.bind("mousedown",function(B){B.preventDefault();r=(a.settings.thumbnailOrientation=="horizontal"?aa:ba)-s.offset()[x];Ba=true;i(document).bind("mousemove",b)});i(document).bind("mouseup",function(){if(Ba){Ba=false;i(document).unbind("mousemove",b)}});c.bind("click",function(){o=parseInt(s.css(x))-a.settings.scrollbarArrowScrollAmount;e()});h.bind("click",function(){o=parseInt(s.css(x))+a.settings.scrollbarArrowScrollAmount;e()})}function Bb(){var b=a.settings.thumbnailOrientation=="horizontal"?"width":"height";return parseFloat(P.css(a.settings.thumbnailOrientation=="horizontal"?"left":"top"))/(Y-parseInt(I.css(b)))}function ya(){Ra&&clearInterval(Ra);if(Ta){Sa=false;clearInterval(Ta)}if(fb){Ua=false;clearInterval(fb)}}function bb(){ya();P&&P.is(":animated")&&P.stop()}function cb(){ya();a.settings.thumbnailMouseScroll&&za()}function Pa(){if(a.settings.thumbnailScrollbar&&!Ba){var b=pa.find(".thumb"),e=a.settings.thumbnailOrientation=="horizontal"?"left":"top",c=a.settings.thumbnailOrientation=="horizontal"?"width":"height";c=parseInt(pa.css(c))-parseInt(b.css(c));var g=-Bb()*c;g>=0&&g<=c&&b.css(e,g)}}function Vb(b){b=v.find('.thumbnail[data-index="'+b+'"]');var e=b.attr("title");if(e){var c=i("body").find(".advanced-slider-tooltip");b.removeAttr("title");c.find(".content").html(e);var g=c.outerWidth()/2,h=c.outerHeight()+parseInt(c.css("marginBottom"));c.css({left:aa,top:ba});c.stop(false,true).fadeIn(a.settings.tooltipShowDuration);i(document).bind("mousemove.tooltip",function(){c.css({left:aa-g,top:ba-h})})}}function Wb(b){var e=i("body").find(".advanced-slider-tooltip"),c=e.find(".content").html();b=v.find('.thumbnail[data-index="'+b+'"]');if(c){b.attr("title",c);e&&e.stop(false,true).fadeOut(a.settings.tooltipHideDuration,function(){i(document).unbind("mousemove.tooltip");e.css("left",-9999)})}}function Rb(b,e,c,g){var h=[],d,f,j=0;switch(e){case"randomPattern":for(c=[];b.length;){j=Math.floor(Math.random()*b.length);c.push(b[j]);b.splice(j,1)}var s=c.length;for(e=0;e<s;e++)h[e]=c[e];break;case"topToBottom":for(f=0;f<g;f++)for(d=0;d<c;d++)h.push(m(b,d,f));break;case"bottomToTop":for(f=g-1;f>=0;f--)for(d=c-1;d>=0;d--)h.push(m(b,d,f));break;case"rightToLeft":for(d=c-1;d>=0;d--)for(f=g-1;f>=0;f--)h.push(m(b,d,f));break;case"leftToRight":for(d=0;d<c;d++)for(f=0;f<g;f++)h.push(m(b,d,f));break;case"topLeftToBottomRight":for(e=0;e<c+g-1;e++){f=0;for(d=e;d>=0;d--){m(b,d,f)!=undefined&&h.push(m(b,d,f));f++}}break;case"bottomLeftToTopRight":j=c>g?c:g;for(e=c-1;e>=1-j;e--){d=0;for(f=e;f<=c-1;f++){m(b,d,f)!=undefined&&h.push(m(b,d,f));d++}}break;case"topRightToBottomLeft":j=c>g?c:g;for(e=c-1;e>=1-j;e--){d=e;for(f=0;f<=g-1;f++){m(b,d,f)!=undefined&&h.push(m(b,d,f));d++}}break;case"bottomRightToTopLeft":for(e=g+c-2;e>=0;e--){f=0;for(d=e;d>=0;d--){m(b,d,f)!=undefined&&h.push(m(b,d,f));f++}}break;case"horizontalMarginToCenter":if(c%2){for(d=0;d<Math.floor(c/2);d++)for(f=0;f<g;f++){h.push(m(b,d,f));h.push(m(b,c-1-d,f))}for(e=0;e<g;e++)h.push(m(b,Math.floor(c/2),e))}else for(d=0;d<Math.floor(c/2);d++)for(f=0;f<g;f++){h.push(m(b,d,f));h.push(m(b,c-1-d,f))}break;case"horizontalCenterToMargin":if(c%2)for(e=0;e<g;e++)h.push(m(b,Math.floor(c/2),e));for(d=Math.floor(c/2)-1;d>=0;d--)for(f=0;f<g;f++){h.push(m(b,d,f));h.push(m(b,c-1-d,f))}break;case"verticalMarginToCenter":if(g%2){for(f=0;f<Math.floor(g/2);f++)for(d=0;d<c;d++){h.push(m(b,d,f));h.push(m(b,d,g-1-f))}for(e=0;e<c;e++)h.push(m(b,e,Math.floor(g/2)))}else for(f=0;f<Math.floor(g/2);f++)for(d=0;d<c;d++){h.push(m(b,d,f));h.push(m(b,d,g-1-f))}break;case"verticalCenterToMargin":if(g%2)for(e=0;e<c;e++)h.push(m(b,e,Math.floor(g/2)));for(f=Math.floor(g/2)-1;f>=0;f--)for(d=0;d<c;d++){h.push(m(b,d,f));h.push(m(b,d,g-1-f))}break;case"skipOneTopToBottom":for(f=0;f<g;f++){for(d=j;d<c;d+=2)h.push(m(b,d,f));j==0?j=1:j=0}j=1;for(f=0;f<g;f++){for(d=j;d<c;d+=2)h.push(m(b,d,f));j==0?j=1:j=0}break;case"skipOneBottomToTop":for(f=g-1;f>=0;f--){for(d=j;d<c;d+=2)h.push(m(b,d,f));j==0?j=1:j=0}j=1;for(f=g-1;f>=0;f--){for(d=j;d<c;d+=2)h.push(m(b,d,f));j==0?j=1:j=0}break;case"skipOneLeftToRight":for(d=0;d<c;d++){for(f=j;f<g;f+=2)h.push(m(b,d,f));j==0?j=1:j=0}j=1;for(d=0;d<c;d++){for(f=j;f<g;f+=2)h.push(m(b,d,f));j==0?j=1:j=0}break;case"skipOneRightToLeft":for(d=c-1;d>=0;d--){for(f=j;f<g;f+=2)h.push(m(b,d,f));j==0?j=1:j=0}j=1;for(d=c-1;d>=0;d--){for(f=j;f<g;f+=2)h.push(m(b,d,f));j==0?j=1:j=0}break;case"skipOneVertical":if(g%2)for(f=0;f<g;f++){for(d=j;d<c;d+=2){if(f==Math.floor(g/2)){f++;for(e=1-c%2;e<c;e+=2){h.push(m(b,e,Math.floor(g/2)));m(b,e-1,Math.floor(g/2))!=undefined&&h.push(m(b,e-1,Math.floor(g/2)))}}h.push(m(b,d,f));h.push(m(b,d,g-f-1))}j==0?j=1:j=0}else for(f=0;f<g;f++){for(d=j;d<c;d+=2){h.push(m(b,d,f));h.push(m(b,d,g-f-1))}j==0?j=1:j=0}break;case"skipOneHorizontal":if(c%2)for(d=0;d<c;d++){for(f=j;f<g;f+=2){if(d==Math.floor(c/2)){d++;for(e=1-g%2;e<g;e+=2){h.push(m(b,Math.floor(c/2),e));m(b,Math.floor(c/2),e-1)!=undefined&&h.push(m(b,Math.floor(c/2),e-1))}}h.push(m(b,d,f));h.push(m(b,c-1-d,f))}j==0?j=1:j=0}else for(d=0;d<c;d++){for(f=j;f<g;f+=2){h.push(m(b,d,f));h.push(m(b,c-1-d,f))}j==0?j=1:j=0}break;case"spiralMarginToCenterCW":var o=c,r=g,u,k=0,q=g<c?g:c;s=Math.floor(q/2);for(u=0;u<s;u++){for(d=k++;d<o;d++)h.push(m(b,d,k-1));o--;for(f=k;f<r;f++)h.push(m(b,c-k,f));r--;for(e=o;e>=c-o;e--)h.push(m(b,e-1,r));for(j=r-1;j>=g-r;j--)h.push(m(b,k-1,j))}if(q%2){if(q==g)for(d=k++;d<o;d++)h.push(m(b,d,k-1));if(q==c)for(f=k++;f<r;f++)h.push(m(b,c-k,f))}break;case"spiralMarginToCenterCCW":o=c;r=g;k=0;q=g<c?g:c;s=Math.floor(q/2);for(u=0;u<s;u++){for(f=k++;f<r;f++)h.push(m(b,k-1,f));r--;for(d=k;d<o;d++)h.push(m(b,d,g-k));o--;for(e=r;e>=g-r;e--)h.push(m(b,o,e-1));for(j=o-1;j>=c-o;j--)h.push(m(b,j,k-1))}if(q%2){if(q==g)for(d=k++;d<o;d++)h.push(m(b,d,g-k));if(q==c)for(f=k++;f<r;f++)h.push(m(b,k-1,f))}break;case"spiralCenterToMarginCCW":o=c;r=g;k=0;q=g<c?g:c;s=Math.floor(q/2);for(u=0;u<s;u++){for(d=k++;d<o;d++)h.push(m(b,d,k-1));o--;for(f=k;f<r;f++)h.push(m(b,c-k,f));r--;for(e=o;e>=c-o;e--)h.push(m(b,e-1,r));for(j=r-1;j>=g-r;j--)h.push(m(b,k-1,j))}if(q%2){if(q==g)for(d=k++;d<o;d++)h.push(m(b,d,k-1));if(q==c)for(f=k++;f<r;f++)h.push(m(b,c-k,f))}h.reverse();break;case"spiralCenterToMarginCW":o=c;r=g;k=0;q=g<c?g:c;s=Math.floor(q/2);for(u=0;u<s;u++){for(f=k++;f<r;f++)h.push(m(b,k-1,f));r--;for(d=k;d<o;d++)h.push(m(b,d,g-k));o--;for(e=r;e>=g-r;e--)h.push(m(b,o,e-1));for(j=o-1;j>=c-o;j--)h.push(m(b,j,k-1))}if(q%2){if(q==g)for(d=k++;d<o;d++)h.push(m(b,d,g-k));if(q==c)for(f=k++;f<r;f++)h.push(m(b,k-1,f))}h.reverse();break;default:for(c=[];b.length;){j=Math.floor(Math.random()*b.length);c.push(b[j]);b.splice(j,1)}s=c.length;for(e=0;e<s;e++)h[e]=c[e]}return h}function m(b,e,c){return i.grep(b,function(g){return g.data("hPos")==e&&g.data("vPos")==c})[0]}function ua(b){return b[Math.floor(Math.random()*b.length)]}function va(b){var e=parseInt(b.substring(1,3),16),c=parseInt(b.substring(3,5),16);b=parseInt(b.substring(5,7),16);return{red:e,green:c,blue:b}}this.settings=i.extend({},i.fn.advancedSlider.defaults,U);var p=i(Z),a=this,n=-1,C=-1,fa=-1,y=[],z=[],G=0,sa=0,ma=null,L=false,V=false,xa=false,qa=false,ia=false,Va=false,K=false,X=0,ab=0,N,Ma=0,Na=0,Q=0,W=0,wb=0,Y,v,I,P,R,S,ca,E,D,pa,Oa,O=0,T=0,F=0,Ra,Ta,Sa=false,fb,Ba=false,Ua=false,aa,ba,Ab=0,Xa=0,zb,db=0,Qa=false,eb=false,rb=true,ja="",Aa=0,na=null,J,t,l,lb,mb,kb=0,Ka,pb,w=i.browser.msie&&parseInt(i.browser.version)<9,jb=navigator.userAgent.match(/iPad/i)!=null||navigator.userAgent.match(/iPod/i)!=null||navigator.userAgent.match(/iPhone/i)!=null,wa=false,ka="off",Ca=["alignType","effectType","sliceEffectType","sliceDelay","sliceDuration","sliceEasing","horizontalSlices","verticalSlices","slicePattern","slicePoint","sliceStartPosition","sliceStartRatio","sliceFade","captionSize","captionPosition","captionShowEffectDuration","captionShowEffectEasing","captionHideEffectDuration","captionHideEffectEasing","captionShowEffect","captionHideEffect","captionLeft","captionTop","captionWidth","captionHeight","captionShowSlideDirection","captionHideSlideDirection","captionBackgroundColor","captionBackgroundOpacity","slideshowDelay","slideMask","slideDirection","slideDuration","slideEasing","slideLoop","fadeInDuration","fadeOutDuration","fadeInEasing","fadeOutEasing","fadePreviousSlide","fadePreviousSlideDuration","thumbnailType","captionDelay","htmlDuringTransition"];(function(){if(a.settings.xmlSource){p.empty();i.ajax({type:"GET",url:a.settings.xmlSource,dataType:i.browser.msie?"text":"xml",success:function(b){var e,c;if(i.browser.msie){e=new ActiveXObject("Microsoft.XMLDOM");e.async=false;e.loadXML(b)}else e=b;l=i('<ul class="slides"></ul>').appendTo(p);c=i(e).find("slider");i(e).find("slide").each(function(g){var h=i('<li class="slide"></li>').appendTo(l),d=i(this),f=d.find("image"),j=d.find("thumbnail"),s=d.find("caption"),o=d.find("html"),r=d.find("link"),u=d.find("thumbnailLink"),k=f.length||d.attr("data-image"),q,x;d.attr("data-image")&&h.attr("data-image",d.attr("data-image"));if(k&&r.length)q=i("<a></a>").attr("href",r.text()).attr("title",r.attr("title")?r.attr("title"):"").attr("target",r.attr("target")?r.attr("target"):"_self").attr("rel",(r.attr("type")=="slider-lightbox"?r.attr("type"):"")+(r.attr("group")?"["+r.attr("group")+"]":"")).appendTo(h);if(f.length)i("<img/>").attr("src",f.text()).attr("class","image").attr("alt",f.attr("alt")?f.attr("alt"):"").attr("title",f.attr("title")?f.attr("title"):"").appendTo(q?q:h);if(j.length&&u.length)x=i("<a></a>").attr("href",u.text()).attr("title",u.attr("title")?u.attr("title"):"").attr("target",u.attr("target")?u.attr("target"):"_self").attr("rel",(u.attr("type")=="slider-lightbox"?u.attr("type"):"")+(u.attr("group")?"["+u.attr("group")+"]":"")).appendTo(h);if(j.length)i("<img/>").attr("src",j.text()).attr("class","thumbnail").attr("alt",j.attr("alt")?j.attr("alt"):"").attr("title",j.attr("title")?j.attr("title"):"").appendTo(x?x:h);if(s.length)i("<div></div>").html(s.text()).attr("class","caption").appendTo(s.attr("parent")=="link"&&q?q:h);o.length&&i("<div></div>").html(o.text()).attr("class","html").appendTo(h);h.properties={};for(d=0;d<Ca.length;d++){f=Ca[d];h.properties[f]=U.slideProperties&&U.slideProperties[g]&&U.slideProperties[g][f]?U.slideProperties[g][f]:i(this).attr(f)?i(this).attr(f):U[f]?U[f]:c.attr(f)?c.attr(f):i.fn.advancedSlider.defaults[f]}y.push(h)});$();b={type:"xmlLoaded",data:e};i.isFunction(a.settings.xmlLoaded)&&a.settings.xmlLoaded.call(this,b)}})}else $()})();this.nextSlide=ea;this.previousSlide=la;this.gotoSlide=ta;this.startSlideshow=ob;this.stopSlideshow=Ea;this.pauseSlideshow=ha;this.resumeSlideshow=ra;this.scrollToThumbnailPage=ga;this.scrollToNextThumbnailPage=yb;this.scrollToPreviousThumbnailPage=xb;this.startThumbnailMouseScroll=za;this.stopThumbnailMouseScroll=function(){a.settings.thumbnailMouseScroll=false;clearInterval(Ra)};this.startThumbnailMouseWheel=vb;this.stopThumbnailMouseWheel=function(){Sa=a.settings.thumbnailMouseWheel=false;clearInterval(Ta)};this.startAutoToggle=hb;this.stopAutoToggle=ib;this.doSliderLayout=Da;this.getSlideshowState=function(){return N};this.getCurrentIndex=function(){return n};this.getSlideAt=function(b){return y[b]};this.getTriggerType=function(){return ja};this.isTransition=function(){return L};this.totalSlides=function(){return G};this.getSize=function(){return{sliderWidth:p.width(),sliderHeight:p.height(),slideWidth:t.width(),slideHeight:t.height()}};this.destroy=function(){Ea();ya();i(document).unbind("mousemove");i(document).unbind("mousemove.tooltip")}}i.fn.advancedSlider=function(Z){for(var U=[],$=0;$<this.length;$++){if(!this[$].advancedslider)this[$].advancedslider=new Cb(this[$],Z);U.push(this[$].advancedslider)}return U.length>1?U:U[0]};i.fn.advancedSlider.defaults={xmlSource:null,width:500,height:500,aspectRatio:-1,skin:"pixel",scrollbarSkin:"scrollbar-1",shadow:true,alignType:"centerCenter",scaleType:"outsideFit",allowScaleUp:false,preloadNearbyImages:false,slideStart:0,shuffle:false,slideshow:true,slideshowDelay:5E3,slideshowDirection:"next",slideshowLoop:true,slideshowControls:false,slideshowControlsToggle:true,slideshowControlsShowDuration:500,slideshowControlsHideDuration:500,pauseSlideshowOnHover:false,slideArrows:true,slideArrowsToggle:true,slideArrowsShowDuration:500,slideArrowsHideDuration:500,slideButtons:true,slideButtonsNumber:false,slideButtonsToggle:false,slideButtonsShowDuration:500,slideButtonsHideDuration:500,slideButtonsCenter:true,slideButtonsContainerCenter:true,keyboardNavigation:false,keyboardNavigationOnFocusOnly:false,autoToggle:false,autoToggleDelay:5E3,timerAnimation:true,timerAnimationControls:true,timerFadeDuration:500,timerToggle:false,timerRadius:18,timerStrokeColor1:"#000000",timerStrokeColor2:"#FFFFFF",timerStrokeOpacity1:0.5,timerStrokeOpacity2:0.7,timerStrokeWidth1:8,timerStrokeWidth2:4,lightbox:false,lightboxTheme:"pp_default",lightboxOpacity:0.8,lightboxIcon:true,lightboxIconToggle:false,lightboxIconFadeDuration:500,thumbnailLightboxIcon:true,thumbnailLightboxIconToggle:true,fullscreenControls:false,fullscreenControlsToggle:true,fullscreenControlsShowDuration:500,fullscreenControlsHideDuration:500,fullscreenThumbnailScrollerOverlay:true,fullscreenSlideButtons:false,fullscreenShadow:false,htmlDuringTransition:true,overrideTransition:false,initialEffect:true,effectType:"random",sliceEffectType:"random",sliceDelay:50,sliceDuration:1E3,sliceEasing:"swing",horizontalSlices:5,verticalSlices:3,slicePattern:"random",slicePoint:"centerCenter",sliceStartPosition:"left",sliceStartRatio:1,slideMask:false,sliceFade:true,fadePreviousSlide:false,fadePreviousSlideDuration:300,slideDirection:"autoHorizontal",slideLoop:false,slideDuration:700,slideEasing:"swing",fadeInDuration:700,fadeOutDuration:700,fadeInEasing:"swing",fadeOutEasing:"swing",swipeOrientation:"horizontal",swipeDuration:700,swipeBackDuration:300,swipeSlideDistance:10,swipeEasing:"swing",swipeMouseDrag:true,swipeTouchDrag:true,swipeGrabCursor:true,swipeThreshold:50,thumbnailType:"tooltip",thumbnailWidth:80,thumbnailHeight:50,thumbnailSlideAmount:10,thumbnailSlideDuration:300,thumbnailSlideEasing:"swing",thumbnailScrollerToggle:false,thumbnailScrollerResponsive:false,thumbnailScrollerCenter:true,thumbnailScrollerOverlay:false,thumbnailScrollDuration:1E3,thumbnailScrollEasing:"swing",maximumVisibleThumbnails:5,minimumVisibleThumbnails:1,thumbnailOrientation:"horizontal",thumbnailLayers:1,thumbnailTooltip:false,tooltipShowDuration:300,tooltipHideDuration:300,thumbnailCaptionPosition:"bottom",thumbnailCaptionToggle:true,thumbnailCaptionEffect:"slide",thumbnailCaptionShowDuration:500,thumbnailCaptionHideDuration:500,thumbnailCaptionEasing:"swing",thumbnailScrollbar:false,thumbnailButtons:false,thumbnailArrows:true,thumbnailButtonsToggle:false,thumbnailArrowsToggle:false,thumbnailScrollbarToggle:false,scrollbarArrowScrollAmount:100,thumbnailScrollerHideDuration:500,thumbnailScrollerShowDuration:500,thumbnailArrowsHideDuration:500,thumbnailArrowsShowDuration:500,thumbnailButtonsHideDuration:500,thumbnailButtonsShowDuration:500,thumbnailScrollbarHideDuration:500,thumbnailScrollbarShowDuration:500,thumbnailSync:true,thumbnailMouseScroll:false,thumbnailMouseScrollEase:90,thumbnailMouseScrollSpeed:10,thumbnailMouseWheel:false,thumbnailMouseWheelSpeed:20,thumbnailMouseWheelReverse:false,thumbnailScrollbarEase:10,captionToggle:false,captionDelay:0,captionSize:70,captionBackgroundOpacity:0.5,captionBackgroundColor:"#000000",captionShowEffect:"slide",captionShowEffectDuration:500,captionShowEffectEasing:"swing",captionShowSlideDirection:"auto",captionHideEffect:"fade",captionHideEffectDuration:300,captionHideEffectEasing:"swing",captionHideSlideDirection:"auto",captionPosition:"bottom",captionLeft:50,captionTop:50,captionWidth:300,captionHeight:100,videoPlayAction:"stopSlideshow",videoPauseAction:"none",videoEndAction:"startSlideshow",reachVideoAction:"none",leaveVideoAction:"pauseVideo",jwPlayerPath:"js/jw-player/player.swf",slideProperties:null,slideOpen:null,slideClick:null,slideMouseOver:null,slideMouseOut:null,thumbnailClick:null,thumbnailMouseOver:null,thumbnailMouseOut:null,transitionStart:null,transitionComplete:null,videoPlay:null,videoPause:null,videoEnd:null,videoFullscreenChange:null,xmlLoaded:null,doSliderLayout:null}})(jQuery);